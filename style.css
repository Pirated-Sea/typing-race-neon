/* ---------- Global / layout ---------- */
html,body{height:100%;margin:0;background:#000;color:#fff;font-family:Inter,system-ui,Arial;overflow:hidden}
#bg-canvas{position:fixed;inset:0;z-index:0;display:block;background:#000}
#app{position:relative;z-index:4;width:100%;display:flex;flex-direction:column;align-items:center;min-height:100vh;padding:20px;box-sizing:border-box;pointer-events:auto}

/* ---------- Header & controls ---------- */
h1{margin:0.5rem 0;font-size:clamp(18px,3.2vw,28px);color:#ffdd38}
#stats{display:flex;gap:1.2rem;margin:0.8rem 0}
.stat-card{background:rgba(30,30,30,0.5);padding:0.4rem 0.9rem;border-radius:8px;text-align:center;min-width:72px}
#controls{z-index:6}
button{padding:0.4rem 1rem;margin:0 0.3rem;border:none;border-radius:6px;background:#222;color:#fff;cursor:pointer}
button:hover{background:#333}

/* ---------- Text display & input (bigger responsive) ---------- */
#text-display{font-size:clamp(16px,2.4vw,22px);line-height:1.4;max-width:900px;margin:0 1rem;text-align:center;word-wrap:break-word;min-height:4rem;position:relative;z-index:5}
#text-display .typed{color:#4caf50}
#text-display .wrong{color:#ff6b6b}
#text-display .current{background:#ff8800;color:#000;padding:0 .08rem;border-radius:2px}
#text-display .untyped{color:#9aa0a6}

#input-field{width:min(84%,720px);font-size:clamp(16px,2.6vw,20px);background:#0f1113;padding:0.55rem;border:none;color:#fff;border-radius:8px;margin-top:1rem;outline:none;z-index:6;box-shadow:0 6px 22px rgba(0,0,0,0.6)}
#input-field:focus{box-shadow:0 0 28px rgba(255,136,0,0.12)}

#track-container{position:relative;width:min(84%,720px);height:62px;margin:1.2rem 0;background:linear-gradient(90deg,#222,#333);border-radius:10px;overflow:hidden;border:2px solid #0b0b0b;z-index:6}
.car{position:absolute;top:50%;left:0;width:56px;height:30px;transform:translateY(-50%);transition:transform 0.08s ease-out;z-index:7}

/* ---------- Floating letters (neon, randomized color) ---------- */
/* bigger and responsive: clamp for desktop + phone */
.floating-letter{
  position:fixed;font-size:clamp(28px,6vw,72px);font-weight:900;pointer-events:none;
  animation:floatUp 1600ms cubic-bezier(.2,.9,.2,1) forwards;
  z-index:3;text-shadow:0 12px 36px rgba(0,0,0,0.7);user-select:none;will-change:transform,opacity,filter;
  -webkit-font-smoothing:antialiased;
  background-clip:text;-webkit-background-clip:text;color:transparent;
}
@keyframes floatUp {
  0% { opacity:1; transform:translateY(0) scale(1) rotate(0deg); filter:blur(0px); }
  60% { opacity:0.96; transform:translateY(-30px) scale(1.05) rotate(var(--rot)); filter:blur(0.6px); }
  100% { opacity:0; transform:translateY(-60px) scale(1.12) rotate(calc(var(--rot)*1.2)); filter:blur(1.2px); }
}

/* ---------- Overlay results ---------- */
#overlay{position:fixed;inset:0;background:rgba(0,0,0,0.8);display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity .25s;z-index:80}
#overlay.show{opacity:1;pointer-events:auto}
#results{background:#0c0e10;padding:20px;border-radius:10px;color:#fff}

/* ---------- Hint ---------- */
#hint{position:fixed;left:12px;bottom:12px;color:#bdbdbd;font-size:13px;z-index:90}

/* ---------- Responsive fallback ---------- */
@media (max-width:760px){
  .floating-letter{font-size:clamp(20px,8vw,46px)}
  #text-display{font-size:14px}
}
